<apex:page controller="MaintainanceScreenController" showHeader="false" standardStylesheets="false">
    
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    
   <apex:form >
       <div> <br/><br/>
    
       <apex:pageBlock id="RefreshCTMData"> 
       
                <table style="width:30%;border-collapse:collapse; border:2px solid lightgray;font-family:verdana,arial;background-color:#409CD8; font-size:10;text-align:left;margin-left:29%;" >
                     <tr style="font-size:16px;height:35px;text-align:left;">                    
                        <th style="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:#409CD8;text-align:left;">
                            Description
                        </th>
                        <th style="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:#409CD8;text-align:left;">
                            Status
                        </th>
                    </tr>
                               
          
                <apex:repeat value="{!CTMaster}" var="CTM">
                 
                    <tr style="font-size:16px;height:35px;text-align:Center;">                    
                        <td style="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:;text-align:left;">
                            <apex:outputText value="{!CTM.Name}"/>
                        </td>
                        <td tyle="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:;text-align:left;" data-toggle="modal" data-target="#OpenCTMRelatedSM">
                            <apex:outputText value="{!CTM.Template_Status__c}"/>
                        </td>
                    </tr> 
               
               </apex:repeat> 
            </table>      <br/>              
                       <input type = "button" data-toggle="modal" data-target="#OpenCreateNEWCTm" value="New" style="background-color:#3498DB;font-size:16px;height:30px;color: white; border: solid 1px #3498DB;margin-left:55%;"/>
       </apex:pageBlock>
           
   
  </div>      
  
           <!-- Modal for Status Field from CTM record -->
          <div>
             <div class="modal fade" id="OpenCTMRelatedSM" role="dialog">
                    <div class="modal-dialog">
                    
                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Template :  </h4>
                        </div>
                        <div class="modal-body" >
                             <apex:pageBlock >
                              
                                 <table style="width:30%;border-collapse:collapse; border:2px solid lightgray;font-family:verdana,arial;background-color:#409CD8; font-size:10;text-align:left;margin-left:27%;" >
                                     <tr style="font-size:16px;height:35px;text-align:left;">                    
                                        <td style="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:#409CD8;text-align:left;">
                                            Test Scenario Short Description
                                        </td>
                                        
                                    </tr>
                                 </table>                
                          
                                <apex:repeat value="{!SMRelatedCTM}" var="SMCTM">
                                  <table style="width:30%;border-collapse:collapse; border:2px solid lightgray;font-family:verdana,arial;background-color:#EBF5FB; font-size:10;text-align:Center;margin-left:27%;" >
                                    <tr style="font-size:16px;height:35px;text-align:Center;">                    
                                        <td style="border:2px solid lightgray;font-family:verdana,arial;font:bold;background-color:;text-align:left;">
                                            Test
                                        </td>
                                       
                                    </tr> 
                                   </table>
                                 </apex:repeat>       <br/>  
                               
                             </apex:pageBlock>
                        </div>
                        <div class="modal-footer">                                                
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                      </div>
                      
                    </div>
                  </div>
           </div>       
                           
           <!-- Modal for Creating New CTM record -->
                              
          <div>
             <div class="modal fade" id="OpenCreateNEWCTm" role="dialog">
                    <div class="modal-dialog">
                    
                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Create New CTM Record  </h4>
                        </div>
                        <div class="modal-body" >
                             <apex:pageBlock >
                                  <apex:pageBlockSection >
                                      <apex:inputField value="{!NewCTM.Name}"/>
                                      <apex:inputField value="{!NewCTM.Template_Status__c}"/>
                                      <apex:inputField value="{!NewCTM.Date_stamp__c}"/>                                      
                                  </apex:pageBlockSection> 
                             </apex:pageBlock>
                        </div>
                        <div class="modal-footer">  
                          <apex:commandButton value="save" action="{!SaveNewCTM}"/>                                               
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                      </div>
                      
                    </div>
                  </div>
           </div>
           
   </apex:form>
</apex:page>